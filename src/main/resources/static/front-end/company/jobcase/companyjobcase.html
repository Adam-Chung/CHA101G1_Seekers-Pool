<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEEKER'S POOL 招募管理</title>
    <link rel="stylesheet" href="./css/vacancyjobcase.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-------------------- 引入axios -------------------->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <style>
        .carousel-inner {
            position: sticky;
            top: 0;
            z-index: 100;
            max-height: 200px;
        }

        .carousel-inner>.x>img {
            opacity: 0.65;
            width: 100%;
            height: 350px;
            margin-top: 10px;
            z-index: 2;
        }
    </style>
    <!-- jQuery -->
    <script src="./js/jquery-3.6.4.min.js"></script>
</head>

<body>
    <main>

        <div class="container">
            <aside id="sidebar" class="sidebar">
                <div class="logo">
                    <div class="img">
                        <img src="./img/TSMC_logo.svg.png" alt="this is a logo" id="logoImg">
                    </div>
                    <h3 id="brand-name">台雞電股份有限公司</h3>
                </div>
                <menu>
                    <ul>
                        <li class="main-list center">
                            <a href="#" draggable="false"> <!--第一個-->
                                <i class="fa-solid fa-address-card"></i>會員中心
                                <div class="caret-icon">
                                    <i class="fa-solid fa-sort-down"></i>
                                </div>
                            </a>

                            <!-- ======================= sub-menu ====================== -->
                            <ul class="sub-menu collapse -none">
                                <li class="sub-list">
                                    <a href="../companymember/companyInfo.html" draggable="false">會員資料管理</a>
                                </li>

                                <li class="sub-list">
                                    <a href="../vacancy/html/VacancyManagement.html" draggable="false">職缺管理</a>
                                </li>

                                <li class="sub-list">
                                    <a href="../companymember/interviewer_manage.html" draggable="false">應徵者管理</a>
                                </li>
                            </ul>
                        </li>

                        <li class="main-list talent-search">
                            <a href="../vacancy/html/TalentSearch.html" draggable="false"> <!--第二個-->
                                <i class="fa-solid fa-user-tie"></i>人才查詢
                            </a>

                        </li>

                        <li class="main-list purchase">
                            <a href="#" draggable="false"> <!--第三個-->
                                <i class="fa-solid fa-cart-shopping"></i>刊登方案
                                <div class="caret-icon">
                                    <i class="fa-solid fa-sort-down"></i>
                                </div>
                            </a>
                            <ul class="sub-menu collapse -none">
                                <li class="sub-list">
                                    <a href="companyjobselect.html" draggable="false">刊登職缺管理</a>
                                </li>
                                <li class="sub-list">
                                    <a href="companyjobcase.html" draggable="false">刊登方案</a>
                                </li>
                                <li class="sub-list">
                                    <a href="companyjobcaseconfirm.html" draggable="false">我要刊登</a>
                                </li>
                                <li class="sub-list">
                                    <a href="companyjobordersearch.html" draggable="false">刊登訂單查詢</a>
                                </li>
                            </ul>
                        </li>
                        <li class="main-list expo">
                            <a href="#" draggable="false"> <!--第四個-->
                                <i class="fa-solid fa-house"></i></i>徵才博覽會管理
                                <div class="caret-icon">
                                    <i class="fa-solid fa-sort-down"></i>
                                    <i id="-none" class="fa-solid fa-caret-up"></i>
                                </div>
                            </a>
                            <ul class="sub-menu collapse -none">
                                <li class="sub-list">
                                    <a href="../../company/jobfair/jfindex/Companyjobfair.html"
                                        draggable="false">徵才博覽會一覽</a>
                                </li>
                                <li class="sub-list">
                                    <a href="../../company/jobfair/jfindex/signUpRecord/signUpRecord.html"
                                        draggable="false">報名紀錄</a>
                                </li>
                            </ul>
                        </li>
                        <li class="main-list logout">
                            <a href="javascript:location.href='/SeekerPool/CompanyLogout'" draggable="false"> <!--第五個-->
                                <i class="fa-solid fa-arrow-right-from-bracket"></i>登出
                            </a>
                        </li>
                    </ul>
                </menu>
            </aside>
        </div>
    </main>

    <main>
        <!-- ======================= main-content ====================== -->
        <div class="main-content">

            <div class="carousel-inner">
                <div class="x">
                    <img src="./img/meeting.png" alt="">
                    <div class="overlay"></div>
                    <div class="carousel-caption">
                        <h1 style="color: #005F73;"><strong>刊登方案</strong></h1>
                        <h5 style="color: #005F73;"><strong>各式刊登方案，任您挑選</strong></h5>
                    </div>
                </div>
            </div>

            <table class="table table-hover" style="text-align: center">
                <thead class="thead-Dark">
                    <tr>
                        <th>方案價格($NT)</th>
                        <th>刊登天數</th>
                        <th>上架數量</th>
                        <th>置頂數量</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 動態生成 -->
                </tbody>
            </table>
        </div>
        <!-- </div> -->
    </main>

    <!-- 讀取sidebar企業會員資訊 -->
    <script src="./js/readInfoHeader.js"></script>
    <script>
        // ===================================================================================

        $(function () {

            // 左邊欄位打開闔起動畫 (ok)
            $("ul").on("click", ".main-list", function () {
                $(this).closest(".main-list").find(".sub-menu").slideToggle(400, function () {
                    $(this).closest(".main-list").find(".sub-menu").toggleClass("-none")
                });
            });

            $.post({
                url: "../../../JobCaseQueryServlet",
                dataType: "JSON",
                data: { action: "selectAll" },
                async: false,
                cache: false,
                success: function (r) {
                    $("tbody").empty();
                    for (let res of r) {
                        if (res.jcStatus === 1) {
                            $("tbody").append(`
                                <tr>
                                    <td>${res.jcPrice}</td>
                                    <td>${res.jcExpTime}天(${(res.jcExpTime / 30).toFixed(1)}個月)</td>
                                    <td>${res.jcAvailableNum}</td>
                                    <td>${res.jcTop}</td>
                                    <td><a href="./companyjobcaseconfirm.html?id=${res.jcNo}"><button type="button" 
                                                class="btn btn-outline-primary">我要刊登</button></a></td>
                                </tr> `
                            )
                        }
                    }
                }
            })
        });
    </script>
</body>

</html>